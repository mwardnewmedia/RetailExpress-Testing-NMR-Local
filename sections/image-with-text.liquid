<div class="image-with-text">
  <div class="mx-auto max-w-7xl px-6 text-center lg:px-8 py-10">
    <div class="mx-auto grid max-w-2xl grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-16 lg:mx-0 lg:min-w-full lg:max-w-none lg:flex-none lg:gap-y-8 items-center">
      {% if section.settings.align_image == 'image_left' %}
        <img class="w-full" src="{{ section.settings.image | image_url: width: 800 }}" alt="">
        <div class="flex items-start justify-center flex-col">
          <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl text-left">
            {{ section.settings.heading }}
          </h2>
          <div class="mt-6 text-xl leading-8 text-gray-600 text-left">
            <div class="department-description">
              {{ section.settings.text }}
            </div>
          </div>
        </div>
      {% elsif section.settings.align_image == 'image_right' %}
        <div class="flex items-start justify-center flex-col order-last md:order-first">
          <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl text-left">
            {{ section.settings.heading }}
          </h2>
          <div class="mt-6 text-xl leading-8 text-gray-600 text-left">{{ section.settings.text }}</div>
        </div>
        <img class="w-full" src="{{ section.settings.image | image_url: width: 800 }}" alt="">
      {% endif %}
    </div>
    <div class="brands mt-8 mb-4 grid grid-cols-3 lg-grid-cols-6 space-x-3">
      {% for block in section.blocks %}
        <div class="flex items-center justify-center p-4">
          <img src="{{ block.settings.image | image_url: width: 300  }}" alt="{{ block.settings.brand_title }}">
        </div>
      {% endfor %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Image with Text",
  "class": "section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "t:sections.image-with-text.settings.image.label"
    },
    {
      "type": "inline_richtext",
      "id": "heading",
      "default": "Image with text",
      "label": "t:sections.image-with-text.blocks.heading.settings.heading.label"
    },
    {
      "type": "richtext",
      "id": "text",
      "default": "<p>Pair text with an image to focus on your chosen product, collection, or blog post. Add details on availability, style, or even provide a review.</p>",
      "label": "t:sections.image-with-text.blocks.text.settings.text.label"
    },
    {
      "type": "select",
      "id": "align_image",
      "options": [
        {
          "value": "image_left",
          "label": "Image left"
        },
        {
          "value": "image_right",
          "label": "Image right"
        }
      ],
      "default": "image_left",
      "label": "Select label"
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": {
        "en": "Image"
      },
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": {
            "en": "Brand Image"
          }
        },
        {
          "type": "url",
          "id": "link",
          "label": {
            "en": "Brand Link"
          },
          "info": {
            "en": "Optional"
          }
        },
        {
          "type": "text",
          "id": "cta_label",
          "label": {
            "en": "Brand Title"
          }
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Image with Text"
    }
  ]
}
{% endschema %}
